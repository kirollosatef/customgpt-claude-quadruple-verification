{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/scripts/pre-tool-gate.mjs\"",
            "timeout": 10000
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/scripts/pre-tool-gate.mjs\"",
            "timeout": 10000
          }
        ]
      },
      {
        "matcher": "mcp__.*",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/scripts/pre-tool-gate.mjs\"",
            "timeout": 10000
          }
        ]
      },
      {
        "matcher": "WebFetch|WebSearch",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/scripts/pre-tool-gate.mjs\"",
            "timeout": 10000
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/scripts/post-tool-audit.mjs\"",
            "timeout": 5000
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/scripts/stop-gate.mjs\"",
            "timeout": 15000
          },
          {
            "type": "prompt",
            "prompt": "MANDATORY â€” Before delivering your response, run the Quadruple Verification self-check. For each check you MUST cite specific evidence from your response. If any check lacks evidence, fix the issue BEFORE responding.\n\n1. COMPLETENESS: Every part of the request addressed? No unfinished sections, deferred work, or partial implementations?\n   Evidence: [state specifically what was completed]\n\n2. CORRECTNESS: Does the solution solve the actual stated problem? Mentally test with one edge case.\n   Evidence: [name the edge case and expected result]\n\n3. SECURITY: No hardcoded secrets, eval(), shell=True, innerHTML, SQL concatenation, or data exfiltration patterns?\n   Evidence: [state what security aspects were verified]\n\n4. QUALITY: Error handling present where needed? Types correct? No empty logic blocks or silenced exceptions?\n   Evidence: [state quality measures taken]\n\nFailure patterns to watch for:\n- Plan-only output: You described what to do but did not actually do it\n- Partial implementation: Some functions are empty or incomplete\n- Missing error handling: Happy path only, no failure cases considered\n- Silenced errors: catch/except blocks that log but do not handle\n\nIf ANY check is FAIL or lacks evidence, fix it now. Then show:\n**QV: C:PASS | Q:PASS | S:PASS | R:PASS** (or fix failures inline before delivering)\n\nFor simple conversational answers: **QV: All passed**"
          }
        ]
      }
    ]
  }
}
