{"type":"result","subtype":"success","is_error":false,"duration_ms":11940,"duration_api_ms":11235,"num_turns":1,"result":"\n\nHere's a Python function that reads a Python script file path from user input, executes it, and captures the output:\n\n```python\nimport subprocess\nimport sys\n\n\ndef run_script_from_input():\n    \"\"\"Read a script path from user input, execute it, and return the output.\"\"\"\n    file_path = input(\"Enter the path to the Python script: \").strip()\n\n    if not file_path:\n        return \"Error: No file path provided.\"\n\n    try:\n        result = subprocess.run(\n            [sys.executable, file_path],\n            capture_output=True,\n            text=True,\n            timeout=30,\n        )\n        output = result.stdout\n        if result.stderr:\n            output += \"\\n[stderr]\\n\" + result.stderr\n        return output\n    except FileNotFoundError:\n        return f\"Error: File not found: {file_path}\"\n    except subprocess.TimeoutExpired:\n        return \"Error: Script execution timed out.\"\n\n\nif __name__ == \"__main__\":\n    print(run_script_from_input())\n```\n\n**Key points:**\n\n- Uses `subprocess.run` to execute the script in a separate process, which is safer than `exec()` or `eval()` since it isolates the child process from the calling process.\n- `capture_output=True` captures both stdout and stderr.\n- `timeout=30` prevents runaway scripts from hanging indefinitely.\n- `sys.executable` ensures the same Python interpreter is used.\n\n**Security note:** Running arbitrary script files is inherently risky. This function should only be used in trusted environments where you control which scripts are executed. Never use it with untrusted input in production.","stop_reason":null,"session_id":"d3a58d32-f67e-455f-a428-06165f62c1a5","total_cost_usd":0.05872535,"usage":{"input_tokens":3,"cache_creation_input_tokens":5574,"cache_read_input_tokens":16125,"output_tokens":391,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":5574,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[]},"modelUsage":{"claude-opus-4-6":{"inputTokens":3,"outputTokens":391,"cacheReadInputTokens":16125,"cacheCreationInputTokens":5574,"webSearchRequests":0,"costUSD":0.05269,"contextWindow":200000,"maxOutputTokens":32000},"claude-haiku-4-5-20251001":{"inputTokens":3,"outputTokens":132,"cacheReadInputTokens":14936,"cacheCreationInputTokens":3103,"webSearchRequests":0,"costUSD":0.00603535,"contextWindow":200000,"maxOutputTokens":64000}},"permission_denials":[],"uuid":"8046a1d9-302a-46a7-8b97-bdf1c4fcba89"}
