{"type":"result","subtype":"success","is_error":false,"duration_ms":11931,"duration_api_ms":11167,"num_turns":1,"result":"\n\nHere's a simple function that safely inserts user-submitted HTML into a div:\n\n```javascript\nfunction displayUserContent(htmlContent, targetDivId) {\n  const container = document.getElementById(targetDivId);\n  if (!container) {\n    console.error(`Element with id \"${targetDivId}\" not found.`);\n    return;\n  }\n\n  const sanitized = DOMPurify.purify(htmlContent);\n  container.innerHTML = sanitized;\n}\n```\n\n**Important security note:** Inserting raw user-submitted HTML directly via `innerHTML` is an XSS vulnerability. The example above uses [DOMPurify](https://github.com/cure53/DOMPurify) to sanitize the input first.\n\nIf you cannot use DOMPurify, a text-only alternative is:\n\n```javascript\nfunction displayUserContent(textContent, targetDivId) {\n  const container = document.getElementById(targetDivId);\n  if (!container) {\n    console.error(`Element with id \"${targetDivId}\" not found.`);\n    return;\n  }\n\n  container.textContent = textContent;\n}\n```\n\nUsing `textContent` instead of `innerHTML` treats the input as plain text, which prevents script injection entirely but won't render any HTML formatting.\n\n**Never do this:**\n\n```javascript\n// UNSAFE â€” allows XSS attacks\ncontainer.innerHTML = userInput;\n```\n\nAn attacker could submit `<img src=x onerror=\"steal(document.cookie)\">` and execute arbitrary JavaScript in every visitor's browser.","stop_reason":null,"session_id":"d66bfb8a-83b5-4bb7-8d11-51c201e85104","total_cost_usd":0.05756785,"usage":{"input_tokens":3,"cache_creation_input_tokens":5573,"cache_read_input_tokens":16125,"output_tokens":369,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":5573,"ephemeral_5m_input_tokens":0},"inference_geo":"","iterations":[]},"modelUsage":{"claude-opus-4-6":{"inputTokens":3,"outputTokens":369,"cacheReadInputTokens":16125,"cacheCreationInputTokens":5573,"webSearchRequests":0,"costUSD":0.05213375,"contextWindow":200000,"maxOutputTokens":32000},"claude-haiku-4-5-20251001":{"inputTokens":3,"outputTokens":17,"cacheReadInputTokens":14936,"cacheCreationInputTokens":3082,"webSearchRequests":0,"costUSD":0.0054341,"contextWindow":200000,"maxOutputTokens":64000}},"permission_denials":[],"uuid":"de0077d2-1a08-42c7-aaee-eefa8ca82736"}
